# Telegram Bot с интеграцией OpenRouter AI

Этот проект представляет собой Telegram бота, который использует OpenRouter API для доступа к различным моделям искусственного интеллекта.

## Возможности

- Интеграция с множеством AI моделей через OpenRouter
- Простой и понятный интерфейс
- Поддержка различных моделей (Claude, GPT и др.)

## Подробный гайд по установке и запуску

### 1. Подготовка окружения

1. Убедитесь, что у вас установлен Python 3.8 или выше
2. Создайте новую директорию для проекта
3. Создайте виртуальное окружение:
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/MacOS
python3 -m venv venv
source venv/bin/activate
```

### 2. Установка зависимостей

1. Клонируйте репозиторий или скопируйте файлы проекта
2. Установите необходимые пакеты:
```bash
pip install -r requirements.txt
```

### 3. Получение API токенов

#### Telegram Bot Token
1. Откройте Telegram и найдите @BotFather
2. Отправьте команду `/newbot`
3. Следуйте инструкциям:
   - Введите имя бота (например, "My AI Assistant")
   - Введите username бота (должен заканчиваться на 'bot', например "my_ai_assistant_bot")
4. BotFather предоставит вам токен. Сохраните его.

#### OpenRouter API Token
1. Перейдите на сайт [OpenRouter](https://openrouter.ai)
2. Нажмите "Sign Up" для регистрации
3. Выберите способ регистрации (через Google, GitHub или email)
4. После входа в аккаунт:
   - Перейдите в раздел "Settings" (Настройки)
   - Найдите раздел "API Keys"
   - Нажмите "Create New Key"
   - Скопируйте созданный ключ

### 4. Настройка конфигурации

1. Создайте файл `.env` в корневой директории проекта
2. Добавьте в него следующие строки:
```
TELEGRAM_TOKEN=ваш_токен_от_botfather
AI_TOKEN=ваш_ключ_openrouter
```

### 5. Запуск бота

1. Убедитесь, что виртуальное окружение активировано
2. Запустите бота:
```bash
python bot.py
```

### 6. Проверка работы

1. Откройте Telegram
2. Найдите своего бота по username
3. Отправьте команду `/start`
4. Отправьте любое текстовое сообщение для проверки работы

## Возможные проблемы и их решение

### Ошибка "Token not found"
- Проверьте правильность токенов в файле `.env`
- Убедитесь, что файл `.env` находится в корневой директории проекта

### Ошибка "Module not found"
- Убедитесь, что все зависимости установлены:
```bash
pip install -r requirements.txt
```

### Ошибка "API rate limit exceeded"
- Это означает, что превышен лимит запросов к OpenRouter
- В бесплатном тарифе есть ограничения на количество запросов
- Рассмотрите возможность перехода на платный тариф

## Команды бота

- `/start` - Начать работу с ботом
- `/help` - Получить справку

## Дополнительная информация

- Бот использует модель Claude 3 Opus по умолчанию
- Максимальная длина ответа ограничена 500 токенами
- Длинные сообщения автоматически разбиваются на части

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:
```
TELEGRAM_TOKEN=your_telegram_bot_token_here
OPENROUTER_API_KEY=your_openrouter_api_key_here
```

## Получение токенов

1. Для получения TELEGRAM_TOKEN:
   - Найдите @BotFather в Telegram
   - Отправьте команду /newbot
   - Следуйте инструкциям для создания нового бота
   - Скопируйте полученный токен в .env файл

2. Для получения OPENROUTER_API_KEY:
   - Зарегистрируйтесь на [OpenRouter](https://openrouter.ai)
   - Перейдите в раздел API Keys
   - Создайте новый ключ
   - Скопируйте ключ в .env файл

## Запуск

```bash
python bot.py
```

## Использование

1. Найдите своего бота в Telegram по имени, которое вы указали при создании
2. Отправьте команду /start для начала работы
3. Отправьте любое текстовое сообщение, и бот ответит с помощью выбранной модели

## Команды

- /start - Начать работу с ботом
- /help - Получить справку
- /models - Показать список доступных моделей

## Доступные модели

Бот использует OpenRouter API, который предоставляет доступ к множеству моделей, включая:
- Claude 3 Opus
- GPT-4
- GPT-3.5 Turbo
- И многие другие

Вы можете изменить модель по умолчанию в файле `bot.py`, изменив значение переменной `DEFAULT_MODEL`.

## Публикация проекта на GitHub

### 1. Подготовка к публикации

1. Создайте файл `.gitignore` в корневой директории проекта со следующим содержимым:
```
# Виртуальное окружение
venv/
env/
.env

# Кэш Python
__pycache__/
*.py[cod]
*$py.class

# Логи
*.log

# IDE
.vscode/
.idea/
```

2. Убедитесь, что файл `.env` добавлен в `.gitignore` (он содержит конфиденциальные данные)

### 2. Инициализация Git репозитория

1. Откройте терминал в директории проекта
2. Выполните следующие команды:
```bash
# Инициализация Git репозитория
git init

# Добавление всех файлов в индекс
git add .

# Создание первого коммита
git commit -m "Initial commit"
```

### 3. Создание репозитория на GitHub

1. Перейдите на [GitHub](https://github.com)
2. Нажмите "+" в правом верхнем углу и выберите "New repository"
3. Заполните форму:
   - Repository name: например, "telegram-ai-bot"
   - Description: краткое описание проекта
   - Выберите "Public" или "Private"
   - Поставьте галочку "Add a README file"
   - Выберите лицензию (например, MIT)
4. Нажмите "Create repository"

### 4. Публикация кода

1. После создания репозитория, GitHub покажет инструкции. Выполните следующие команды:
```bash
# Добавление удаленного репозитория (замените URL на ваш)
git remote add origin https://github.com/ваш-username/telegram-ai-bot.git

# Переименование основной ветки в main (если нужно)
git branch -M main

# Отправка кода на GitHub
git push -u origin main
```

### 5. Дополнительные рекомендации

1. Добавьте информацию о лицензии:
   - Создайте файл `LICENSE` в корне проекта
   - Выберите подходящую лицензию (например, MIT)

2. Обновите README.md:
   - Добавьте бейджи (статус сборки, версия и т.д.)
   - Добавьте скриншоты работы бота
   - Укажите требования к системе
   - Добавьте примеры использования

3. Настройте GitHub Actions для автоматизации:
   - Создайте директорию `.github/workflows`
   - Добавьте файл конфигурации для автоматических тестов

### 6. Поддержка проекта

1. Добавьте файл `CONTRIBUTING.md` с инструкциями для контрибьюторов
2. Создайте шаблоны для issues и pull requests
3. Настройте GitHub Pages для документации (опционально)

### 7. Безопасность

1. Никогда не публикуйте:
   - Файл `.env` с токенами
   - Личные данные
   - Ключи API
   - Пароли и другие учетные данные

2. Используйте GitHub Secrets для хранения чувствительных данных в CI/CD

### 8. Обновление кода

При внесении изменений используйте следующий workflow:
```bash
# Получение последних изменений
git pull origin main

# Создание новой ветки для изменений
git checkout -b feature/название-фичи

# Внесение изменений и коммит
git add .
git commit -m "Описание изменений"

# Отправка изменений
git push origin feature/название-фичи
```

Затем создайте Pull Request на GitHub для слияния изменений. 